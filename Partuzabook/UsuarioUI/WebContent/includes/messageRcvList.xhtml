<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:richx="http://richfaces.org/richx">
	
	<style>
		.hideOnLoad {
		    display: none;
		}
	</style>
	
	<script>
		//function toggleDetails(link, show) {
		function toggleDetails(link, show) {
			//alert ("hola: "+(show ? 'block' : 'none'));
		    //var elementId = determineItSomehowBasedOnGenerated(link.id);
		    document.getElementById('messagePanel').style.display = (show ? 'block' : 'none');
		}
	</script>
	
	<rich:panel >
	    <f:facet name="header">
	    </f:facet>
	    <h:form>
		    <rich:dataGrid id="msgList" value="#{notificationsBean.notifActive}" var="notif" columns="1" elements="5" width="600px">
		        <rich:panel bodyClass="pbody">
	                <h:outputText value="Fecha: " styleClass="label"></h:outputText>
	                <h:outputText value="#{notif.formattedDate}" /><br />
	                <h:outputText value="From: " styleClass="label"></h:outputText>
	                <h:outputText value="#{notif.userFrom}" /><br />
		                
					<a4j:outputPanel id="messagePanel" >
						<h:outputText value="Message: " styleClass="label"/>
						<h:outputText value="#{notif.text}" />
					</a4j:outputPanel><br />
					<h:outputLink onclick="toggleDetails(this, true); return false;">show</h:outputLink>
					<h:outputLink onclick="toggleDetails(this, false); return false;">hide</h:outputLink>					
					
		        </rich:panel>
		    </rich:dataGrid>
			<rich:datascroller align="left" for="msgList" maxPages="20"
	            page="#{notificationsBean.page}" id="sc" />
	    </h:form>
	</rich:panel>
	
</ui:composition>