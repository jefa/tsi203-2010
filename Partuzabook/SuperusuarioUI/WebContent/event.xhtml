<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<ui:composition template="templates/superusuarioUI.xhtml">
	<ui:define name="title">Crear un Evento</ui:define>
	<ui:define name="body">
	<h:form id="createEvent">
		<f:view>
			<rich:panel>
				<f:facet name="header">
					<h:outputText value="Nuevo Evento"></h:outputText>
				</f:facet>
				<h:outputText value="Nombre del evento:"></h:outputText><br/>
				<h:inputText value="#{EventMB.name}"></h:inputText>*<br/>
				<h:outputText value="Descripción:"></h:outputText><br/>
				<h:inputText value="#{EventMB.description}"></h:inputText><br/>
				<h:outputText value="Fecha:"></h:outputText><br/>
				
				<rich:calendar value="#{EventMB.date}"
                    datePattern="d/MMM/y"  showApplyButton="false"  
                    cellWidth="24px" cellHeight="22px" style="width:200px"/><br/>

				<h:outputText value="Duración:"></h:outputText><br/>
				<h:inputText value="#{EventMB.duration}"></h:inputText><br/>
				<h:outputText value="Dirección:"></h:outputText><br/>
				<h:inputText value="#{EventMB.address}"></h:inputText><br/>
				<h:outputText value="Categoría:"/><br/>
				<h:selectOneMenu value="#{EventMB.category}">
					<f:selectItems value="#{EventMB.allCats}" />
				</h:selectOneMenu><br/><br/>
				<h:outputText value="Evento es moderado:"/>
				<h:selectBooleanCheckbox value="#{EventMB.moderated}" onclick="toggleVisibility('createEvent:newMod')"/><br/><br/>
				
				<h:inputText id="newMod" value="#{EventMB.suggest}" />
				<h:commandButton value="Agregar como moderador" action="#{EventMB.addMod}"/>
				<h:commandButton value="Limpiar lista" action="#{EventMB.resetMod}"/>
				<rich:suggestionbox id="suggestionBoxId" for="newMod" tokens=",["
					suggestionAction="#{EventMB.autocomplete}" var="result"
					nothingLabel="No user matches" columnClasses="center">
					<h:column>
						<h:outputText value="#{result.username}" />
					</h:column>
					<h:column>
						<h:outputText value="#{result.name}" />
					</h:column>
				</rich:suggestionbox>
				<rich:panel style="width:50%">
		            <f:facet name="header">
		                <h:outputText value="Moderadores"/>
		            </f:facet>
		            <rich:dataList value="#{EventMB.mods}" var="pickList" rendered="#{EventMB.cantMods>0}">
		            	<h:outputText value="#{pickList}"/>
		            </rich:dataList> 
		        </rich:panel>
				<br/><br/><br/>
				
				<center>
				<h:commandButton value="Crear el evento" action="#{EventMB.createEvent}"/><br/>
				</center>
			</rich:panel>
		</f:view>
	</h:form>
	</ui:define>
</ui:composition>
</html>